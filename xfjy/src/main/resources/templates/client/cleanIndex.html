<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title>宝洁</title>
<link rel="stylesheet" th:href="@{/app/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/app/css/bootstrap-theme.min.css}" />
<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0" />
<script th:src="@{/app/js/vendor/jquery-1.11.1.js}"></script>
<script th:src="@{/app/js/vendor/bootstrap.min.js}"></script>
<script th:src="@{/app/js/public.js}"></script>
<style type="text/css">
 
</style>

<script type="text/javascript">
	 function cbcheck(){
		 if($("#cbprovide").prop("checked")==true){
			 $("#cbprovide").prop("checked",false);
		 }else{
			 $("#cbprovide").prop("checked",true);
		 }
	 }
	 
	 function toAddressSelect(){
		 //window.open (basePath+"/client/addressSelect.html",'newwindow','height=300,width=400,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');
			var path = basePath+"/client/addressSelect.html";  
			$('#aform').attr("action", path).submit();
	 }
	 
	 function toDateSelect(){
		 var path = basePath+"/client/serviceDate";  
			$('#aform').attr("action", path).submit();
		 // window.open (basePath+"/client/serviceDate",'newwindow','height=300,width=400,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no');
	 }
	 
	 
	 function initServiceDate(){
		 var serviceDate=$("#serviceDate").val();
		 var drationText=$("#durationText").val();
		 var repeatWeeks=$("#repeatInWeek").val();
		 var repeatInWeekText=$("#repeatInWeekText").val();
		 console.log('vvvvv='+repeatWeeks);
		 var repeatInWeekTextRes=getWeekRepeattText(repeatInWeekText);
		 console.log('xxxxxxxx='+repeatInWeekText);
		 var durationMonthText=$("#durationMonthText").val();
		 console.info(serviceDate);
		 $("#spnServiceDate").text(serviceDate+" "+drationText+" "+repeatInWeekTextRes+" "+durationMonthText);
		 
	 }
	 
	 
	 /*<![CDATA[*/
	 function getWeekRepeattText(weekRepeatValue){
		 var weeks=weekRepeatValue.split(',');
		 var res="";
			for(var i=0;i<weeks.length;i++){
				var week=weeks[i];
				if(i>0){
					week=week.replace('星期','');
				}
				res=res+week+",";
			}
		 if(res.length>0){
			 res=res.substring(0,res.length-1);
		 }
		 return res;
	 }
	 /*]]>*/
	 
	 $(function () {
		 initServiceDate();
	  });
	 
</script>



</head>

<body>
	<form th:action="@{/client/login}" method="post" id="aform">
		<div style="display:none">
			<input type="hidden" name="mobileNo" id="mobileNo"   th:value="${order.mobileNo}"/>
			<input type="hidden" name="userAddressId"  id="userAddressId" th:value="${order.userAddressId}"/>
			<input type="hidden" name="fullAddress" id="fullAddress" th:value="${order.fullAddress}"/>
			<input type="hidden" name="serviceDate" id="serviceDate" th:value="${order.serviceDate}"/>
			<input type="hidden" name="duration"  id="duration"  th:value="${order.duration}"/>
			<input type="hidden" name="startTime"  id="startTime"  th:value="${order.startTime}"/>
			<input type="hidden" name="endTime"  id="endTime"  th:value="${order.endTime}"/>
			<input type="hidden" name="servicetype" id="servicetype" th:value="${order.servicetype}"/>
			<input type="hidden" name="cycleType" id="cycleType" th:value="${order.cycleType}"/>
			<input type="hidden" name="durationMonth" id="durationMonth"   th:value="${order.durationMonth}"/>
   			<input type="hidden" name="repeatInWeek" id="repeatInWeek" th:value="${order.repeatInWeek}"/>
			<input type="hidden" name="repeatInWeekText" id="repeatInWeekText" th:value="${order.repeatInWeekText}" />
   			<input type="hidden" name="durationMonthText" id="durationMonthText" th:value="${order.durationMonthText}" />
   			<input type="hidden" name="durationText" id="durationText" th:value="${order.durationText}" />
   		
		</div>
		<div class="container-fluid">
		<div style="height:20px"></div>
		<ul class="list-group">
  				<li class="list-group-item" onclick="toAddressSelect()">
  					<label>地址：</label><span th:text="${order.fullAddress}"></span>
  					<span class="badge">></span>
  				</li>
			<li class="list-group-item" onclick="toDateSelect()">
				<label>服务时间：</label><span id="spnServiceDate" th:text="${order.serviceDate}"></span>
  					<span class="badge">></span>
			</li>
		</ul>
		<ul class="list-group">
			<li class="list-group-item">
				<label>电话：</label>
			</li> 
		</ul>
		<ul class="list-group"  onclick="cbcheck()">
			<li class="list-group-item">
				<label onclick="javascipt:alert();">提供 <font color="red">宝洁用品(+99元)</font></label> 
				<input type="checkbox" style="float:right" id="cbprovide"/>
			</li> 
		</ul>
		
		<div class="row">
			<div class="col-xs-2"/>
			<div>
				<button type="button" class="btn col-xs-8 btn-default btn-lg">确定</button>
			</div>
			<div class="col-xs-2"/>
		</div>
		 
		</div>
		
	</form>
</body>
</html>
